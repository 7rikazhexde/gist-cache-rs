# ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®šã‚¬ã‚¤ãƒ‰

## ğŸ“Š ç¾åœ¨ã®ã‚«ãƒãƒ¬ãƒƒã‚¸çŠ¶æ³

**å…¨ä½“ã‚«ãƒãƒ¬ãƒƒã‚¸**: 68.95% (533/773 lines)
**è‡ªå‹•ãƒ†ã‚¹ãƒˆæ•°**: 153å€‹ (ãƒ¦ãƒ‹ãƒƒãƒˆ 120 + çµ±åˆ 33)
**ç›®æ¨™**: 60-70% âœ… é”æˆ

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ¥ã‚«ãƒãƒ¬ãƒƒã‚¸

| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | ã‚«ãƒãƒ¬ãƒƒã‚¸ | ã‚«ãƒãƒ¼æ¸ˆã¿/å…¨ä½“ | çŠ¶æ…‹ |
|-----------|-----------|----------------|------|
| `cache/types.rs` | 100.00% | 15/15 | âœ… å®Œç’§ |
| `config.rs` | 96.15% | 25/26 | âœ… å„ªç§€ |
| `cache/content.rs` | 83.54% | 66/79 | âœ… è‰¯å¥½ |
| `cli.rs` | 78.16% | 161/206 | âœ… è‰¯å¥½ |
| `search/query.rs` | 70.59% | 48/68 | ğŸŸ¡ è‰¯å¥½ |
| `cache/update.rs` | 62.24% | 89/143 | ğŸŸ¡ æ”¹å–„ |
| `execution/runner.rs` | 19.88% | 34/171 | ğŸ”´ å¤–éƒ¨ä¾å­˜å¤šæ•° |
| `github/api.rs` | 8.33% | 5/60 | ğŸ”´ å¤–éƒ¨ä¾å­˜å¤šæ•° |
| `error.rs` | 0.00% | 0/1 | ğŸŸ¡ ãƒ†ã‚¹ãƒˆä¸è¦ |
| `main.rs` | 0.00% | 0/4 | ğŸŸ¡ E2Eã§æ¤œè¨¼ |

---

## ğŸ“ ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®šã‚³ãƒãƒ³ãƒ‰

### åŸºæœ¬çš„ãªæ¸¬å®š

```bash
# æ¨™æº–å‡ºåŠ›ã«ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’è¡¨ç¤º
cargo tarpaulin --out Stdout

# HTMLãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ
cargo tarpaulin --out Html --output-dir coverage

# ä¸¡æ–¹ç”Ÿæˆ
cargo tarpaulin --out Html --out Stdout --output-dir coverage
```

### è©³ç´°ãªæ¸¬å®š

```bash
# è©³ç´°å‡ºåŠ›ä»˜ãï¼ˆå„è¡Œã®ã‚«ãƒãƒ¬ãƒƒã‚¸æƒ…å ±ï¼‰
cargo tarpaulin --out Stdout --verbose

# ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šï¼ˆå¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‘ã‘ï¼‰
cargo tarpaulin --out Stdout --timeout 120

# æœ€å¾Œã®100è¡Œã®ã¿è¡¨ç¤ºï¼ˆé•·ã„å‡ºåŠ›ã‚’çœç•¥ï¼‰
cargo tarpaulin --out Stdout 2>&1 | tail -100
```

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ¥ã®æ¸¬å®š

```bash
# ç‰¹å®šã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã¿ãƒ†ã‚¹ãƒˆ
cargo tarpaulin --out Stdout --lib

# ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–
cargo tarpaulin --out Stdout --exclude-files 'tests/*'

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
cargo tarpaulin --out Stdout --test integration_test
```

### justfileçµŒç”±ã®æ¸¬å®š

```bash
# justfileã«ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ æ¸ˆã¿ã®å ´åˆ
just coverage

# ã¾ãŸã¯ç›´æ¥
just check  # lint + testï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸ãªã—ï¼‰
```

---

## ğŸ¯ ã‚«ãƒãƒ¬ãƒƒã‚¸è¨­è¨ˆã®è€ƒãˆæ–¹

### é«˜ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆ70%ä»¥ä¸Šï¼‰

ã‚³ã‚¢ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯é«˜ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç¶­æŒï¼š

- **cache/types.rs (100%)**: ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã€ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
- **config.rs (96%)**: è¨­å®šç®¡ç†ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ãƒ‘ã‚¹
- **cache/content.rs (84%)**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
- **cli.rs (78%)**: CLIå¼•æ•°å‡¦ç†
- **search/query.rs (71%)**: æ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯

### ä¸­ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆ50-70%ï¼‰

å¤–éƒ¨ä¾å­˜ã®å½±éŸ¿ã‚’å—ã‘ã‚‹ãŒã€ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ¢ãƒƒã‚¯ã§ã‚«ãƒãƒ¼ï¼š

- **cache/update.rs (62%)**: GitHubClient ã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ãƒ†ã‚¹ãƒˆ

### ä½ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆ50%æœªæº€ï¼‰

å¤–éƒ¨ãƒ—ãƒ­ã‚»ã‚¹ãƒ»ã‚³ãƒãƒ³ãƒ‰ä¾å­˜ãŒå¤šãã€çµ±åˆãƒ†ã‚¹ãƒˆã§å“è³ªæ‹…ä¿ï¼š

- **execution/runner.rs (20%)**: bash, pythonç­‰ã®å®Ÿéš›ã®å®Ÿè¡Œ â†’ çµ±åˆãƒ†ã‚¹ãƒˆã§12è¨€èªã‚’æ¤œè¨¼
- **github/api.rs (8%)**: `gh` ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ â†’ MockGitHubClientã§ä»£æ›¿
- **main.rs (0%)**: ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ â†’ E2Eãƒ†ã‚¹ãƒˆã§æ¤œè¨¼
- **error.rs (0%)**: å˜ç´”ãªå‹å®šç¾© â†’ å®Ÿè¡Œæ™‚ã«ãƒ†ã‚¹ãƒˆ

---

## ğŸ“ ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã®è¦‹æ–¹

### æ¨™æº–å‡ºåŠ›ã®è§£é‡ˆ

```bash
|| Uncovered Lines:
|| src/cache/content.rs: 88, 90, 116, 118, ...
```

ã“ã‚Œã¯ã€å„ãƒ•ã‚¡ã‚¤ãƒ«ã®ã©ã®è¡ŒãŒã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ãªã„ã‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

### HTMLãƒ¬ãƒãƒ¼ãƒˆ

HTMLãƒ¬ãƒãƒ¼ãƒˆï¼ˆ`coverage/index.html`ï¼‰ã§ã¯:

- ç·‘: ã‚«ãƒãƒ¼ã•ã‚ŒãŸè¡Œ
- èµ¤: ã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ãªã„è¡Œ
- ã‚°ãƒ¬ãƒ¼: å®Ÿè¡Œä¸å¯èƒ½ãªè¡Œï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã€ç©ºè¡Œãªã©ï¼‰

ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã«ã¯:

```bash
# Linuxã®å ´åˆ
xdg-open coverage/index.html

# macOSã®å ´åˆ
open coverage/index.html

# Windowsã®å ´åˆ
start coverage/index.html
```

---

## ğŸš€ CI/CDã§ã®ä½¿ç”¨

### GitHub Actions

```yaml
- name: Run tests with coverage
  run: cargo tarpaulin --out Xml --output-dir coverage

- name: Upload coverage to Codecov
  uses: codecov/codecov-action@v3
  with:
    files: ./coverage/cobertura.xml
```

---

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### cargo-tarpaulinãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„

```bash
cargo install cargo-tarpaulin
```

### ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼

```bash
# ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’å»¶é•·
cargo tarpaulin --out Stdout --timeout 300
```

### ãƒ¡ãƒ¢ãƒªä¸è¶³

```bash
# ä¸¦åˆ—å®Ÿè¡Œæ•°ã‚’åˆ¶é™
cargo tarpaulin --out Stdout --jobs 1
```

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [cargo-tarpaulinå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://github.com/xd009642/tarpaulin)
- [TESTING.md](./TESTING.md) - ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã¨å®Ÿè¡Œã‚¬ã‚¤ãƒ‰
- [TEST_INVENTORY.md](./TEST_INVENTORY.md) - å…¨ãƒ†ã‚¹ãƒˆã®åˆ†é¡ã¨æ¦‚è¦

---

**æœ€çµ‚æ›´æ–°**: 2025-11-06
**ç¾åœ¨ã®ã‚«ãƒãƒ¬ãƒƒã‚¸**: 68.95%
**è‡ªå‹•ãƒ†ã‚¹ãƒˆæ•°**: 153å€‹
**ã‚«ãƒãƒ¼è¡Œæ•°**: 533/773 lines
